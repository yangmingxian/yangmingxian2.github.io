---
title: 游戏开发基础 图形学基础
author: Mingxian Yang
date: 2023-10-21 14:45:00 +0800
description: 有时候开发会遇到很多小小不言的问题，这些问题可能非常简单，但是我还是希望能记录下来。成长就是聚沙成塔的过程
categories: [Unity,游戏设计]
tags: [Unity]
render_with_liquid: false
---

图形学知识是基础，即便你在使用的游戏引擎已经帮你完成了大多数工作，但是这些基础的概念有助于你对渲染的过程有更好的理解，才会知其所以然。所以趁着复习的机会在这里整理一些必要的知识基础。

### 图形管线  

图形管线，这是绝大多数计算机渲染的基础过程。
渲染管线其实并不是一个很高深的名词，也有的人会叫做图形学管线、GPU渲染管线等，只是表示计算机如何把图形图像信息显示到你的屏幕上来这一过程，因为类似于工厂的流水线，所以才叫管线。  
图形管线要把模型转换成屏幕画面的过程，由于这个过程中所进行的操作严重依赖用户所使用的软件、硬件等，因此并不存在通用的绘图流水线。尽管如此，现今存在着类似Vulkan、OpenGL和DirectX的图形接口，将相似的操作统一起来，并把底层硬件抽象化，以减轻程序员的负担，逐渐成为最为主流的图形接口。  

泛化的来讲，图形管线在概念上一般分为3大阶段：
![](/assets/imgs/2023/GP.png)
1. **应用阶段(Application)**: 主要在CPU中进行，将所有图元（通常是三角形、线和点）传递到GPU的渲染管线，除此之外还有一些空间细分、碰撞检测、动画、变形都在此阶段进行，这些有助于减少内存使用。
2. **几何阶段(Geometry)**: 主要负责对输入的几何数据进行处理和转换。包括顶点着色器（Vertex Shader），它对输入的顶点进行变换和处理，例如执行模型变换、视图变换和投影变换等；还包括曲面细分（Tessellation）和几何着色器（Geometry Shader）等。
3. **光栅化阶段(Rasterization)**: 在这个阶段，几何数据被转换为屏幕上的像素片段。它将几何图形（如三角形）转换为像素片段，并确定每个像素片段的位置、颜色和其他属性
   
有很多文章中会分为4个阶段，除了上述的三个阶段外还会有： 

4. **像素处理阶段(Pixel)**: 该阶段对最终的像素进行处理和操作。包括混合（将多个像素的颜色进行混合）、深度测试（根据像素的深度值进行可见性判断）以及模板测试（根据像素的模板值进行特定操作）等

这是因为以前的老显卡仍然比较接近上述的图形管线。随着对GPU的需求不断增加，限制逐渐被消除，以创造更多的灵活性。现代显卡使用可自由编程、着色器控制的管道，允许直接访问各个处理步骤。为了减轻主处理器的负担，额外的处理步骤已移至管线和GPU。

*不过一般面试的时候你说只有三个阶段的话，面试官可能会觉得你一知半解，恰恰是第四阶段的深度测试、模板测试之类的会是高频考点 XD*

### **Ref**   
http://www.gamelook.com.cn/2016/10/268460



 [**作者博客：YMX's Site**](http://yangmingxian.com/)  
 [**作者B站视频：CyberStreamer**](https://space.bilibili.com/22212765)




